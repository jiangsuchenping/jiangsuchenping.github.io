<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>快乐学习</title>
    <link rel="stylesheet" href="css/style.css">
    <script type="text/javascript">
    	document.addEventListener('plusready', function(){
   			//console.log("所有plus api都应该在此事件发生后调用，否则会出现plus is undefined。");
   		});
    </script>
</head>
<body>
    <div id="time-notification" class="time-notification" style="display: none;">
        <div class="notification-content">
            <span id="notification-message"></span>
            <button class="close-notification" onclick="closeTimeNotification()">×</button>
        </div>
    </div>
    <!-- 主容器 -->
    <div class="container">
        <!-- 首页 -->
        <div id="home-page" class="page">
            <h1>快乐学习</h1>
            <div class="module-card chinese-module">
                <h3>识字乐园</h3>
                <p>认识汉字，快乐阅读</p>
                <button class="btn" onclick="navigateTo('chinese')">开始学习</button>
            </div>
            <div class="module-card math-module">
                <h3>数学王国</h3>
                <p>趣味计算，快乐数学</p>
                <button class="btn" onclick="navigateTo('math')">开始学习</button>
            </div>
            <div class="module-card english-module">
                <h3>英语世界</h3>
                <p>快乐英语，轻松学习</p>
                <button class="btn" onclick="navigateTo('english')">开始学习</button>
            </div>
            <div class="module-card game-module">
                <h3>趣味游戏</h3>
                <p>华容道，锻炼思维</p>
                <button class="btn" onclick="navigateTo('game')">开始游戏</button>
            </div>
        </div>

        <!-- 语文模块主页 -->
        <div id="chinese-page" class="page" style="display: none;">
            <h1>识字乐园</h1>
            <div class="module-card">
                <h3>汉字学习</h3>
                <p>认识常用汉字，学习拼音</p>
                <button class="btn" onclick="navigateTo('chinese-word')">开始学习</button>
            </div>

            <button class="btn" onclick="navigateTo('home')">返回首页</button>
        </div>

        <!-- 语文识字页面 -->
        <div id="chinese-word-page" class="page" style="display: none;">
            <h1>汉字学习</h1>
            <div id="word-container">
                <!-- 汉字卡片将通过JavaScript动态生成 -->
            </div>
            <div class="button-group">
                <button id="show-chinese-history-btn" class="btn">查看学习记录</button>
                <button class="btn" onclick="navigateTo('chinese')">返回</button>
            </div>
        </div>

        <!-- 汉字学习记录弹窗 -->
        <div id="chinese-history-dialog" class="dialog" style="display: none;">
            <div class="dialog-content">
                <h3>汉字学习记录</h3>
                <div id="chinese-history-list"></div>
                <div class="dialog-buttons">
                    <button class="btn" onclick="closeChineseHistoryDialog()">关闭</button>
                </div>
            </div>
        </div>

        <!-- 数学模块主页 -->
        <div id="math-page" class="page" style="display: none;">
            <h1>数学王国</h1>
            <div class="module-card">
                <h3>分成练习</h3>
                <p>学习数字的分解与组合</p>
                <button class="btn" onclick="navigateTo('math-division')">开始练习</button>
            </div>
            <div class="module-card">
                <h3>趣味计算</h3>
                <p>20以内加减法，快乐练习</p>
                <button class="btn" onclick="navigateTo('math-test')">开始练习</button>
            </div>

            <button class="btn" onclick="navigateTo('home')">返回首页</button>
        </div>

        <!-- 数学分成练习页面 -->
        <div id="math-division-page" class="page" style="display: none;">
            <h1>分成练习</h1>
            <div class="division-container">
                <div class="division-problem">
                    <div class="number-display" id="division-number">?</div>
                    <div class="division-hint">这个数可以分成：</div>
                </div>
                <div class="division-options" id="division-options">
                    <!-- 选项将通过JavaScript动态生成 -->
                </div>
                <div class="division-result" id="division-result"></div>
            </div>
            <div class="button-group">
                <button id="show-division-history-btn" class="btn">查看练习记录</button>
                <button class="btn" onclick="navigateTo('math')">返回</button>
            </div>
        </div>

        <!-- 分成练习记录弹窗 -->
        <div id="division-history-dialog" class="dialog" style="display: none;">
            <div class="dialog-content">
                <h3>分成练习记录</h3>
                <div id="division-history-list"></div>
                <div class="dialog-buttons">
                    <button class="btn" onclick="closeDivisionHistoryDialog()">关闭</button>
                </div>
            </div>
        </div>

        <!-- 数学20以内加减法测试页面 -->
        <div id="math-test-page" class="page" style="display: none;">
            <h1>趣味计算</h1>
            <div id="math-score">得分: 0/0</div>
            <div id="math-problem-container">
                <!-- 数学题目将通过JavaScript动态生成 -->
            </div>
            <div id="math-options-container" class="math-options">
                <!-- 选项将通过JavaScript动态生成 -->
            </div>
            <div id="math-result"></div>
            <div class="button-group">
                <button id="show-history-btn" class="btn">查看错题记录</button>
                <button class="btn" onclick="navigateTo('math')">返回</button>
            </div>
        </div>

        <!-- 错题记录弹窗 -->
        <div id="history-dialog" class="dialog" style="display: none;">
            <div class="dialog-content">
                <h3>错题记录</h3>
                <div id="history-list"></div>
                <div class="dialog-buttons">
                    <button class="btn" onclick="closeHistoryDialog()">关闭</button>
                </div>
            </div>
        </div>

        <!-- 英语模块主页 -->
        <div id="english-page" class="page" style="display: none;">
            <h1>英语世界</h1>
            <div class="module-card">
                <h3>单词学习</h3>
                <p>快乐英语，轻松记忆</p>
                <button class="btn" onclick="navigateTo('english-word')">开始学习</button>
            </div>

            <button class="btn" onclick="navigateTo('home')">返回首页</button>
        </div>

        <!-- 游戏模块 -->
        <div id="game-page" class="page">
            <div class="page-header">
                <h2>趣味游戏</h2>
            </div>
            <div class="game-container">
                <div class="game-tabs">
                    <div class="game-tab active" data-game="klotski">华容道</div>
                    <div class="game-tab" data-game="memory">记忆配对</div>
                    <div class="game-tab" data-game="sudoku">数独</div>
                    <div class="game-tab" data-game="pattern">找规律</div>
                </div>
                
                <div class="game-sections">
                    <div id="klotski-game" class="game-section active">
                        <div class="game-info">
                            <div class="moves">移动次数: <span id="klotski-moves">0</span></div>
                            <div class="time">用时: <span id="klotski-time">00:00</span></div>
                        </div>
                        <div id="klotski-container" class="klotski-container"></div>
                        <button id="restart-klotski-btn" class="btn">重新开始</button>
                    </div>
                    
                    <div id="memory-game" class="game-section">
                        <div class="game-info">
                            <div class="moves">翻牌次数: <span id="memory-moves">0</span></div>
                            <div class="pairs">配对成功: <span id="memory-pairs">0</span></div>
                        </div>
                        <div id="memory-container" class="memory-container"></div>
                        <button id="restart-memory-btn" class="btn">重新开始</button>
                    </div>
                    
                    <div id="sudoku-game" class="game-section">
                        <div class="game-header">
                            <h2>数独游戏</h2>
                            <div class="difficulty-buttons">
                                <button onclick="setSudokuDifficulty('easy')" class="difficulty-btn">简单</button>
                                <button onclick="setSudokuDifficulty('medium')" class="difficulty-btn">中等</button>
                                <button onclick="setSudokuDifficulty('hard')" class="difficulty-btn">困难</button>
                            </div>
                        </div>
                        <div id="sudoku-board" class="sudoku-board"></div>
                        <div class="game-controls">
                            <button onclick="checkSudokuAnswer()">检查答案</button>
                            <button onclick="initSudokuGame()">重新开始</button>
                        </div>
                    </div>
                    
                    <div id="pattern-game" class="game-section">
                        <div class="game-header">
                            <h2>找规律游戏</h2>
                            <div class="game-instructions">
                                <p>观察上面的图案，找出规律，选择正确的答案！</p>
                                <p>规律可能是：数字的加减、形状的循环、颜色的交替等。</p>
                            </div>
                            <div class="difficulty-buttons">
                                <button onclick="setPatternDifficulty('easy')" class="difficulty-btn">简单</button>
                                <button onclick="setPatternDifficulty('medium')" class="difficulty-btn">中等</button>
                                <button onclick="setPatternDifficulty('hard')" class="difficulty-btn">困难</button>
                            </div>
                        </div>
                        <div class="pattern-container">
                            <div class="pattern-sequence"></div>
                            <div class="pattern-options"></div>
                            <div class="game-controls">
                                <button onclick="checkPatternAnswer()">检查答案</button>
                                <button onclick="initPatternGame()">重新开始</button>
                            </div>
                            <div id="pattern-result" class="pattern-result"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 华容道游戏页面 -->
        <div id="klotski-game-page" class="page" style="display: none;">
            <h1>华容道</h1>
            <div class="game-container">
                <div class="game-info">
                    <div class="moves">移动次数：<span id="klotski-moves">0</span></div>
                    <div class="time">用时：<span id="klotski-time">00:00</span></div>
                </div>
                <div id="klotski-container" class="klotski-container"></div>
                <div class="klotski-controls">
                    <button id="restart-klotski-btn" class="btn">重新开始</button>
                </div>
            </div>
            <button class="btn" onclick="navigateTo('game')">返回</button>
        </div>

        <!-- 英语单词学习页面 -->
        <div id="english-word-page" class="page" style="display: none;">
            <h1>单词学习</h1>
            <div id="english-word-container">
                <!-- 英语单词卡片将通过JavaScript动态生成 -->
            </div>
            <div class="button-group">
                <button id="show-english-history-btn" class="btn">查看学习记录</button>
                <button class="btn" onclick="navigateTo('english')">返回</button>
            </div>
        </div>

        <!-- 英语单词学习记录弹窗 -->
        <div id="english-history-dialog" class="dialog" style="display: none;">
            <div class="dialog-content">
                <h3>英语单词学习记录</h3>
                <div id="english-history-list" class="history-list"></div>
                <div class="dialog-buttons">
                    <button class="btn" onclick="closeEnglishHistoryDialog()">关闭</button>
                </div>
            </div>
        </div>
    </div>

    <!-- 底部导航 -->
    <div class="nav-menu">
        <div class="nav-item" data-id="home">
            <a href="#" data-target="home">首页</a>
        </div>
        <div class="nav-item" data-id="chinese">
            <a href="#" data-target="chinese">语文</a>
        </div>
        <div class="nav-item" data-id="math">
            <a href="#" data-target="math">数学</a>
        </div>
        <div class="nav-item" data-id="english">
            <a href="#" data-target="english">英语</a>
        </div>
        <div class="nav-item" data-id="game">
            <a href="#" data-target="game">游戏</a>
        </div>
    </div>

    <!-- 引入JavaScript文件 -->
    <script src="js/app.js"></script>
    <script>
        // 页面加载完成后初始化各模块
        document.addEventListener('DOMContentLoaded', function() {
            // 初始化识字页面
            initChineseWordPage();
            // 初始化数学测试页面
            initMathTestPage();
            // 初始化英语单词学习页面
            initEnglishWordPage();
            // 初始化华容道游戏
            initKlotskiGame();
            // 初始化分成练习页面
            initDivisionPage();
        });
    </script>
</body>
</html>
