<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>基础运算 - 儿童学习乐园</title>
    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/math.css">
    <link rel="icon" type="image/png" href="favicon.png">
</head>
<body>
    <header class="page-header">
        <h1>➕ 基础运算</h1>
        <p class="page-subtitle">加减乘除练习，提升计算能力</p>
    </header>

    <div class="page-container">
        <div class="page-content">
            <!-- 学习控制面板 -->
            <div class="learning-panel">
                <div class="panel-header">
                    <h2>今日学习进度</h2>
                    <div class="progress-display">
                        <span id="today-progress">0</span> / <span id="daily-goal">20</span>
                        <div class="progress">
                            <div class="progress-bar" id="progress-fill"></div>
                        </div>
                    </div>
                </div>
                
                <div class="panel-controls">
                    <div class="control-group">
                        <label>运算类型：</label>
                        <select id="operation-type">
                            <option value="addition">加法</option>
                            <option value="subtraction">减法</option>
                            <option value="multiplication">乘法</option>
                            <option value="division">除法</option>
                            <option value="mixed" selected>混合运算</option>
                        </select>
                    </div>
                    
                    <div class="control-group">
                        <label>难度等级：</label>
                        <select id="difficulty-level">
                            <option value="easy">简单 (1-10)</option>
                            <option value="medium" selected>中等 (1-20)</option>
                            <option value="hard">困难 (1-50)</option>
                        </select>
                    </div>
                    
                    <div class="control-group">
                        <label>每日目标：</label>
                        <select id="daily-goal-select">
                            <option value="10">10题</option>
                            <option value="20" selected>20题</option>
                            <option value="30">30题</option>
                            <option value="50">50题</option>
                        </select>
                    </div>
                    
                    <div class="control-group">
                        <button class="btn btn-primary" onclick="startLearning()">开始练习</button>
                        <button class="btn btn-secondary" onclick="showHistory()">学习记录</button>
                        <button class="btn btn-secondary" onclick="resetProgress()">重置进度</button>
                    </div>
                </div>
            </div>

            <!-- 学习内容区域 -->
            <div class="learning-content" id="learning-area" style="display: none;">
                <div class="problem-display">
                    <div class="problem-card">
                        <div class="problem-text">
                            <span id="num1">0</span>
                            <span id="operator">+</span>
                            <span id="num2">0</span>
                            <span>=</span>
                            <span>?</span>
                        </div>
                        <div class="problem-input">
                            <input type="number" id="user-answer" placeholder="输入答案" />
                        </div>
                    </div>
                    
                    <div class="answer-buttons">
                        <button class="btn btn-primary" onclick="checkAnswer()">提交答案</button>
                        <button class="btn btn-secondary" onclick="skipProblem()">跳过</button>
                    </div>
                </div>
                
                <div class="learning-feedback" id="feedback" style="display: none;">
                    <div class="feedback-content" id="feedback-text"></div>
                    <button class="btn btn-primary" onclick="nextProblem()">下一题</button>
                </div>
            </div>

            <!-- 学习记录区域 -->
            <div class="history-panel" id="history-panel" style="display: none;">
                <div class="panel-header">
                    <h2>学习记录</h2>
                    <button class="btn btn-secondary" onclick="hideHistory()">返回</button>
                </div>
                
                <div class="history-content">
                    <div class="stats-summary">
                        <div class="stat-item">
                            <span class="stat-label">总练习：</span>
                            <span class="stat-value" id="total-practice">0</span> 题
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">正确率：</span>
                            <span class="stat-value" id="accuracy-rate">0%</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">今日完成：</span>
                            <span class="stat-value" id="today-completed">0</span> 题
                        </div>
                    </div>
                    
                    <div class="history-table">
                        <table id="history-table">
                            <thead>
                                <tr>
                                    <th>日期</th>
                                    <th>题目</th>
                                    <th>答案</th>
                                    <th>结果</th>
                                    <th>用时</th>
                                </tr>
                            </thead>
                            <tbody id="history-tbody">
                                <!-- 动态填充 -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <a href="index.html" class="return-btn">返回首页</a>

    <!-- 工具脚本 -->
    <script src="js/utils/constants.js"></script>
    <script src="js/utils/storage.js"></script>
    <script src="js/utils/learning.js"></script>
    
    <!-- 页面脚本 -->
    <script src="js/math-practice.js"></script>
</body>
</html>